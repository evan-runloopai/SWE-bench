{
    "dockerfile": "FROM public.ecr.aws/f7m5a7m8/devbox:prod\nARG DEBIAN_FRONTEND=noninteractive\nENV TZ=Etc/UTC\n\nRUN apt update && apt install -y \\\nwget \\\ngit \\\nbuild-essential \\\nlibffi-dev \\\nlibtiff-dev \\\npython3 \\\npython3-pip \\\npython-is-python3 \\\njq \\\ncurl \\\nlocales \\\nlocales-all \\\ntzdata \\\n&& rm -rf /var/lib/apt/lists/*\n\n# Download and install conda\nRUN wget 'https://repo.anaconda.com/miniconda/Miniconda3-py311_23.11.0-2-Linux-aarch64.sh' -O miniconda.sh \\\n    && bash miniconda.sh -b -p /opt/miniconda3\n# Add conda to PATH\nENV PATH=/opt/miniconda3/bin:$PATH\n# Add conda to shell startup scripts like .bashrc (DO NOT REMOVE THIS)\nRUN conda init --all\nRUN conda config --append channels conda-forge\n\nRUN adduser --disabled-password --gecos 'dog' nonroot\n\nRUN echo IyEvYmluL2Jhc2gKc2V0IC1ldXhvIHBpcGVmYWlsCnNvdXJjZSAvb3B0L21pbmljb25kYTMvYmluL2FjdGl2YXRlCmNvbmRhIGNyZWF0ZSAtbiB0ZXN0YmVkIHB5dGhvbj0zLjkgbXBtYXRoIGZsYWtlOCAteQpjb25kYSBhY3RpdmF0ZSB0ZXN0YmVkCnB5dGhvbiAtbSBwaXAgaW5zdGFsbCBtcG1hdGg9PTEuMy4wIGZsYWtlOC1jb21wcmVoZW5zaW9ucwo= | base64 -d > /root/setup_env.sh\nRUN chmod +x /root/setup_env.sh\nRUN /bin/bash -c \"source ~/.bashrc && /root/setup_env.sh\"\n\nWORKDIR /testbed/\n\n# Automatically activate the testbed environment\nRUN echo \"source /opt/miniconda3/etc/profile.d/conda.sh && conda activate testbed\" > /root/.bashrc\n\nRUN echo IyEvYmluL2Jhc2gKc2V0IC1ldXhvIHBpcGVmYWlsCmdpdCBjbG9uZSAtbyBvcmlnaW4gaHR0cHM6Ly9naXRodWIuY29tL3N5bXB5L3N5bXB5IC90ZXN0YmVkCmNobW9kIC1SIDc3NyAvdGVzdGJlZApjZCAvdGVzdGJlZApnaXQgcmVzZXQgLS1oYXJkIGNmZmQ0ZTBmODZmZWZkNDgwMjM0OWE5ZjliMTllZDcwOTM0ZWEzNTQKZ2l0IHJlbW90ZSByZW1vdmUgb3JpZ2luCnNvdXJjZSAvb3B0L21pbmljb25kYTMvYmluL2FjdGl2YXRlCmNvbmRhIGFjdGl2YXRlIHRlc3RiZWQKZWNobyAiQ3VycmVudCBlbnZpcm9ubWVudDogJENPTkRBX0RFRkFVTFRfRU5WIgpweXRob24gLW0gcGlwIGluc3RhbGwgLWUgLgo= | base64 -d > /root/setup_repo.sh\nRUN /bin/bash /root/setup_repo.sh\n\nWORKDIR /testbed/\n"
}